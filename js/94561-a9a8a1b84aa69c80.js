"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94561],{64138:function(e,t,n){n(93981);var r=n(85394),i=n(29541);t.Z=function(e){var t=e.width,n=e.height,a=e.className;return(0,i.jsx)("div",{style:{maxWidth:t,height:n},className:"flex w-screen min-w-full items-center justify-center space-y-6 bg-white/5 p-5 backdrop-blur-[20px] ".concat(a),children:(0,i.jsx)(r.Z,{})})}},51232:function(e,t,n){n.d(t,{w_:function(){return o}});var r=n(63956);n(65558),n(13838),n(11421);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return i?a(a({},t),{},(0,r.Z)({},n,"string"===typeof i?i:"function"===typeof i.toString?i.toString():"")):t}),{})}},41264:function(e,t,n){n.d(t,{Z:function(){return d},i:function(){return u}});var r=n(97620),i=n(88932),a=n(93981),o=n(48645),s=n(13170),l=n(29541),c=function(e){var t=e.percentage,n=e.strokeWidth,r=void 0===n?2:n,i=e.sqSize,a=void 0===i?14:i,o=(a-r)/2,s="0 0 ".concat(a," ").concat(a),c=o*Math.PI*2,u=c-c*t/100;return(0,l.jsxs)("svg",{width:a,height:a,viewBox:s,children:[(0,l.jsx)("circle",{className:"fill-transparent stroke-white-75",cx:a/2,cy:a/2,r:o,strokeWidth:"".concat(r,"px")}),(0,l.jsx)("circle",{className:"fill-transparent stroke-black",strokeLinecap:"round",strokeLinejoin:"round",cx:a/2,cy:a/2,r:o,strokeWidth:"".concat(r+.4,"px"),transform:"rotate(-90 ".concat(a/2," ").concat(a/2,")"),style:{strokeDasharray:c,strokeDashoffset:u}})]})},u=function(e){var t=e.isSubmitting,n=e.lastRefreshTimestamp,l=e.value,c=e.refresh,u=a.useState((0,i.Z)((new Date).getTime(),n)),d=(0,r.Z)(u,2),m=d[0],p=d[1];return(0,o.Z)((function(){if(!t){var e=(0,i.Z)((new Date).getTime(),n);p(e),e>=s.GJ&&(l||0)>0&&c()}}),1e3),{timeDiff:m}},d=function(e){var t=e.lastRefreshTimestamp,n=e.isSubmitting,r=e.value,i=e.refresh,o=u({isSubmitting:n,lastRefreshTimestamp:t,value:r,refresh:i}).timeDiff,d=a.useCallback((function(e){e.stopPropagation(),i()}),[i]);return(0,l.jsx)("div",{className:"cursor-pointer",onClick:d,children:(0,l.jsx)(c,{sqSize:10,percentage:o/s.GJ*100})})}},57715:function(e,t,n){n.d(t,{ZP:function(){return y},Kc:function(){return w},BE:function(){return b}});var r=n(8473),i=n(4707),a=n(93981),o=n(13215),s=n(24201),l=n(96065),c=n(70602),u=n(81652),d=n(25546),m=n(70006),p=n(39268),x=n.n(p),f=n(64138),v=n(29541),h=x()((function(){return n.e(77829).then(n.bind(n,77829))}),{loading:function(){return(0,v.jsx)(f.Z,{width:600,height:380})},loadableGenerated:{webpack:function(){return[77829]}}}),g=x()((function(){return n.e(26170).then(n.bind(n,26170))}),{loading:function(){return(0,v.jsx)(f.Z,{width:600,height:380})},loadableGenerated:{webpack:function(){return[26170]}}}),j=function(e){var t=e.control,n=(0,o.qo)({control:t,name:"selectedRoute"}),r="Graphviz"===a.useMemo((function(){var e;return null===(e=localStorage)||void 0===e?void 0:e.getItem("preferred-graph")}),[])?g:h;return(0,v.jsx)(r,{quoteResponse:null===n||void 0===n?void 0:n.quoteResponse})},b={"Orca V1":"Orca","Orca V2":"Orca","Lifinity V2":"Lifinity","Lifinity V1":"Lifinity",Whirlpool:"Orca","Raydium CLMM":"Raydium",Mercurial:"Meteora"},w=function(e){var t=0,n=new Set,r=new Set,i=new Set;return e.forEach((function(e){var a=e.swapInfo,o=a.inputMint,s=a.label,l=a.ammKey;i.has(o)?t+=1:i.add(o),r.add(l.toString()),n.add(b[s]||s)})),{splits:t,labels:n,ammKeys:r}},y=function(e){var t,n=e.loading,p=e.control,x=(0,u.jB)(),f=x.onlyDirectRoutes,h=x.setOnlyDirectRoutes,g=(0,m.JT)().openModal,b=(0,o.qo)({control:p,name:"selectedRoute"}),y=a.useMemo((function(){return b?w(b.quoteResponse.routePlan):null}),[b]),N=(0,d.Nr)(n,100),S=(0,d.Nr)(Boolean(!b||!y),100);return(0,v.jsxs)("div",{children:[(0,v.jsxs)("button",{type:"button",className:(0,s.cn)("group relative flex w-full items-center space-x-1 overflow-hidden transition-all",S?"h-0 opacity-0":"h-[22px] opacity-100",N?"pointer-events-none opacity-50 blur-xs":"opacity-100"),onClick:function(){g((0,v.jsx)(j,{control:p}),{noCloseButton:!1,containerStyle:{background:"none"}})},children:[(0,v.jsx)("div",{className:(0,s.cn)("rounded-full border border-v2-primary","group-hover:from-v2-primary/25 group-hover:to-v2-primary/25"),children:(0,v.jsx)("span",{className:(0,s.cn)("flex items-center space-x-1 rounded-[100px] bg-[rgba(199,242,132,0.1)] text-xxs","group-hover:bg-[#3a474f]"),children:(0,v.jsxs)("span",{className:(0,s.cn)("flex items-center whitespace-nowrap px-2 py-0.5 text-v2-primary","font-semibold group-hover:text-v2-primary"),children:[(0,v.jsx)(c.Z,{className:"mb-px text-v2-primary group-hover:text-v2-primary"}),(0,v.jsxs)(v.Fragment,{children:[function(){var e=((null===y||void 0===y?void 0:y.splits)||0)+1;return e>1?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r.cC,{id:"jNns1a",values:{numRoutes:e}})," ","+"," "]}):null}(),((null===y||void 0===y?void 0:y.ammKeys.size)||0)>0&&(0,v.jsx)(r.cC,{id:"lKVG55",values:{0:null!==(t=null===y||void 0===y?void 0:y.ammKeys.size)&&void 0!==t?t:""}})]})]})})}),(0,v.jsxs)("div",{className:"flex w-full items-center justify-between space-x-2",children:[(0,v.jsx)("span",{className:"max-w-[120px] truncate text-left text-xs text-white-50 group-hover:text-v2-primary md:max-w-[200px]",children:(null===y||void 0===y?void 0:y.labels)&&(0,v.jsx)(r.cC,{id:"74MSE4",values:{0:Array.from(y.labels).join(", ")}})}),(0,v.jsx)(l.Z,{className:"ml-auto text-black-35 group-hover:text-v2-primary"})]})]}),f&&(0,v.jsxs)("div",{className:"mt-2 flex flex-col justify-start rounded-lg border border-warning/50 bg-warning/10 px-3 py-2 text-xs text-perps-warning",children:[(0,v.jsx)("p",{children:i.ag._({id:"yoZ1FV"})}),(0,v.jsx)("div",{onClick:function(){return h(!1)},className:"mt-2 cursor-pointer underline",children:i.ag._({id:"rPl9v6"})})]})]})}},94561:function(e,t,n){n.d(t,{Z:function(){return kt}});var r=n(27195),i=n(70107),a=n(97620),o=n(63956),s=n(8857),l=n.n(s),c=n(8473),u=n(4707),d=n(1517),m=n(32532),p=n(72215),x=n(27177),f=n(7744),v=n(13838),h=n(9319),g=n.n(h),j=n(93981),b=n(13215),w=n(59644),y=n(44495),N=n(13170),S=n(42082),k=n(89521),T=n(22466),C=n(24201),P=n(25546),M=n(99438),O=n(56100),A=n(82625),Z=n(69825),I=n(29541),R=function(e){var t=e.loading,n=e.name,r=e.control,i=e.disabled,a=e.onFocus,o=e.onKeyDown,s=e.onPaste,l=e.placeholder,c=e.onChange,u=e.tokenAmountClassname,d=e.usdValueClassname,m=(0,p.Bn)().getTokenInfo,x=j.useRef(null),f=(0,b.qo)({control:r,name:"fromValue"===n?"fromTokenAddress":"toTokenAddress"}),v=j.useMemo((function(){return m(f)}),[m,f]);return(0,I.jsx)(b.Qr,{name:n,control:r,rules:{required:"Required"},render:function(e){var r=e.field,m=r.onChange,p=r.value,h=r.onBlur;return(0,I.jsxs)("div",{className:"flex h-full flex-col text-right",children:[t||!v?(0,I.jsx)(O.O,{className:"ml-2 h-6 w-24 self-end"}):(0,I.jsx)(Z.Z,{name:n,className:(0,C.cn)("outline-none disabled:!text-white",u),decimals:v.decimals,onChange:c?function(e){m(e),c(e)}:m,value:null===p||void 0===p?void 0:p.value,disabled:i,ref:x,onBlur:h,onFocus:a,onKeyDown:o,onPaste:s,placeholder:l}),t?(0,I.jsx)(O.O,{className:"ml-2 mt-0.5 h-4 w-8 self-end"}):null!==p&&void 0!==p&&p.value?(0,I.jsx)("div",{className:(0,C.cn)("text-xs text-white-35"),onClick:function(){var e;return null===x||void 0===x||null===(e=x.current)||void 0===e?void 0:e.focus()},children:(0,I.jsx)(A.Z,{tokenAddress:f,value:p,className:d})}):null]})}})},V=n(41264),E=n(7842),L=n(1242),_=n(69667),B=n(70006),D=n(59978),F=function(e){var t=e.control,n=e.name,r=e.modalId,i=e.getValues,o=e.disableTokenSelect,s=(0,p.Bn)(),l=s.getTokenInfo,c=s.tokenMap,u=(0,B.JT)(),d=u.closeModal,m=u.openContextualModal,x=u.setContextValue,f=u.ModalContextConsumer,v=(0,S.T)(),h=(0,b.bc)({control:t,name:n}).field,g=(0,b.qo)({control:t,name:["fromTokenAddress","toTokenAddress"]}),w=(0,a.Z)(g,2),y=w[0],N=w[1],k=(0,j.useMemo)((function(){return"fromTokenAddress"===n?y:N}),[y,N,n]),T=(0,j.useMemo)((function(){return l(k)}),[l,k]),P=(0,j.useMemo)((function(){return Array.from(c.values()).map((function(e){return e.address}))}),[c]),M=(0,j.useCallback)((function(e){f&&(x(r,P),m(r,P,(0,I.jsx)(f,{children:function(t){return(0,I.jsx)(E.ZP,{onSubmit:function(t){e.current(t)},mintsList:t,bestTokens:L.KG})}}),{position:"top",noCloseButton:!0}))}),[f,P,r,m,x]),O=(0,j.useCallback)((function(e){var t,r;if(e){var a,o,s=i(),c=s.toTokenAddress,u=s.fromTokenAddress;if("fromTokenAddress"===n)c===e.address?(a=e,o=l(u)):(a=e,o=l(c));else u===e.address?(a=l(c),o=e):(a=l(u),o=e);h.onChange("fromTokenAddress"===n?null===(t=a)||void 0===t?void 0:t.address:null===(r=o)||void 0===r?void 0:r.address),v(a,o),d()}}),[d,h,l,i,n,v]),A=(0,j.useRef)(O);return A.current=O,(0,j.useEffect)((function(){x(r,P)}),[r,x,P]),(0,I.jsx)("div",{className:"group/select flex items-center justify-between",children:(0,I.jsxs)("button",{type:"button",disabled:o,className:(0,C.cn)("flex h-10 items-center space-x-3 rounded-lg border-transparent px-3 py-2",o?"":"border bg-v2-background-page group-hover/select:border-v2-primary/50 group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),onClick:function(){return M(A)},children:[(0,I.jsx)("div",{className:"rounded-full",children:(null===T||void 0===T?void 0:T.logoURI)&&(0,I.jsx)(D.Z,{width:24,height:24,info:T})}),(0,I.jsx)("div",{className:"text-sm font-semibold",translate:"no",children:null===T||void 0===T?void 0:T.symbol}),!o&&(0,I.jsx)("div",{className:"fill-current text-white/25 group-hover/select:text-v2-primary",children:(0,I.jsx)(_.Z,{})})]})})},q=n(13154),K=n(28940),U=n(55948),G=n(43723),z=n(24684),H=n(12627),W=n(3082),Q=n(74925),Y=n(99882),J=n(89349),X=n(60021),$=n(39913),ee=n(88381),te=n(62348),ne=n(45009),re=n(41144);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(e,t){return{name:t,timestamp:1e3*e.unixTime,price:e.value}};var se=function(e){var t=e.active,n=e.payload;if(t&&n&&n.length&&"number"===typeof n[0].value){var r=n[0].value,i=(0,H.Z)(n[0].payload.timestamp,"p");return(0,I.jsxs)("div",{className:"flex flex-col rounded-md bg-black px-2 py-1 text-xs",children:[(0,I.jsx)("span",{children:i}),(0,I.jsxs)("span",{className:"flex h-5 items-center space-x-1",children:[(0,I.jsx)("span",{children:"$"}),(0,I.jsx)("span",{children:Number(r)<1e-6?(0,I.jsx)(ee.ZP,{value:Number(r),maxSuffix:6}):(0,I.jsx)("span",{children:new v.Z(r).toDP(6).toString()})})]})]})}return null},le=function(e){var t=e.token,n=e.priceInUsd,r=j.useCallback((function(e){var t=String(e).split(".");return t.length>1?t[1].length:0}),[]);return Number.isNaN(Number(null===n||void 0===n?void 0:n.usd))?(0,I.jsx)(I.Fragment,{children:"N/A"}):Number(null===n||void 0===n?void 0:n.usd)<1e-6?(0,I.jsx)(ee.ZP,{value:Number(null===n||void 0===n?void 0:n.usd),maxSuffix:6}):r(null===n||void 0===n?void 0:n.usd)>t.decimals?(0,I.jsx)(I.Fragment,{children:null===n||void 0===n?void 0:n.usd.toFixed(t.decimals)}):(0,I.jsx)(I.Fragment,{children:null===n||void 0===n?void 0:n.usd})},ce=function(e){var t=e.token,n=(0,x.XA)(),i=(0,W.useRouter)(),a=function(e,t){var n=e.token,i=e.interval,a=void 0===i?"":i,o=t.enabled,s=t.staleTime,c=n.address,u=j.useMemo((function(){var e=new Date;return new URLSearchParams({address:c,type:"5m",time_to:(e.getTime()/1e3).toFixed(0)})}),[c]),d="".concat("https://birdeye-proxy.jup.ag/defi/history_price","?").concat(u.toString());return ae(ae({},(0,ne.a)(["".concat(c,"-useChartData-").concat(a)],(0,r.Z)(l().mark((function e(){var t,n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,re.ZP.get(d).json();case 5:return t=e.sent,n=t.data,r=new v.Z(n.items[n.items.length-1].value),i=new v.Z(n.items[0].value),a=new v.Z(r).div(i),e.abrupt("return",{marketChart:n.items.map(oe),change24H:new v.Z(a).sub(1).mul(100).toDP(2).toNumber()});case 13:throw e.prev=13,e.t0=e.catch(2),console.error("useChartData",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),{enabled:o&&Boolean(c),refetchInterval:6e4,staleTime:s||3e4,retry:2,retryDelay:5e3,keepPreviousData:!0})),{},{apiURL:{marketChart:d}})}({token:t,interval:"5m"},{enabled:i.isReady,cacheTime:18e5,staleTime:12e5}),o=a.data,s=(0,j.useMemo)((function(){var e=null===o||void 0===o?void 0:o.marketChart[(null===o||void 0===o?void 0:o.marketChart.length)-1];return e&&null!==e&&void 0!==e&&e.price?{usd:e.price,timestamp:Number(e.timestamp),source:"birdeye"}:null}),[null===o||void 0===o?void 0:o.marketChart]),c=(0,j.useMemo)((function(){if(!o)return null;var e=P.uf.format(String(o.change24H));return o.change24H>0?"+".concat(e,"%"):"".concat(e,"%")}),[o]),u=(0,j.useMemo)((function(){return"https://birdeye.so/token/".concat(t.address,"?chain=solana")}),[t.address]);return(0,I.jsxs)("div",{className:"flex justify-between text-white",translate:"no",children:[(0,I.jsxs)("div",{className:"flex w-full max-w-[60%] items-center space-x-3 text-ellipsis md:max-w-[35%]",children:[(0,I.jsx)(D.Z,{info:t,width:24,height:24}),(0,I.jsxs)("div",{className:"flex flex-col",children:[(0,I.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,I.jsx)("span",{className:"text-sm font-semibold text-white-75",children:t.symbol}),(0,I.jsx)(te.Z,{tokenInfo:t,customUrl:u})]}),(0,I.jsx)("span",{className:"text-ellipsis text-xs text-white-50",children:t.name})]})]}),(0,I.jsxs)("div",{className:"w-full max-w-[50%]",children:[(0,I.jsxs)("div",{className:"flex w-full items-center",children:[s&&(0,I.jsx)("span",{className:"mr-2.5 w-3/5 text-ellipsis text-[14px] font-semibold",children:(0,I.jsx)(le,{token:t,priceInUsd:s})}),(0,I.jsx)("span",{className:"mr-2.5 w-2/5 text-ellipsis text-[14px] font-semibold ".concat(((null===o||void 0===o?void 0:o.change24H)||0)>=0?"text-jupiter-jungle-green":"text-[#FF0000]"),children:c})]}),(0,I.jsx)("svg",{width:0,height:0,children:(0,I.jsx)("defs",{children:(0,I.jsxs)("linearGradient",{id:"linear",children:[(0,I.jsx)("stop",{offset:"0%",stopColor:"#FCC00A"}),(0,I.jsx)("stop",{offset:"100%",stopColor:"#4EBAE9"})]})})}),(0,I.jsx)("div",{className:"flex h-6 w-full items-center",children:null!==o&&void 0!==o&&o.marketChart?(0,I.jsx)(Q.h,{width:"100%",height:24,children:(0,I.jsxs)(Y.w,{data:o.marketChart,children:[(0,I.jsx)(J.u,{position:{x:n?-64:230,y:n?-16:-6},content:function(e){return(0,I.jsx)(se,{active:e.active,payload:e.payload})}}),(0,I.jsx)(X.x,{type:"monotone",dataKey:"price",stroke:"url(#linear)",strokeWidth:2,dot:!1}),(0,I.jsx)($.B,{hide:!0,domain:["dataMin","dataMax"]})]})}):null})]})]})},ue=n(44517),de=n(25224),me="!text-jupiter-jungle-green",pe="!text-jupiter-primary",xe="!text-jupiter-red",fe=function(e){var t=e.loading,n=(0,z.tX)(),r=n.rate,i=n.isMoreExp,a=n.isDanger,o=n.isWarning,s=n.percent,l=n.formattedPercent,d=n.isWithinTwoPercent,m=(0,j.useMemo)((function(){return i&&!d?u.ag._({id:"rmtEqi",values:{formattedPercent:l}}):i?u.ag._({id:"N3czIx",values:{formattedPercent:l}}):0===s?"< ".concat(de.uf.format(.1),"% cheaper"):"".concat(l,"% cheaper")}),[i,l,d,s]),p=(0,j.useMemo)((function(){return o?pe:a?xe:me}),[a,o]);return null!==r&&m?(0,I.jsxs)("div",{className:"flex items-start justify-between text-xs",children:[(0,I.jsx)("div",{className:"justify-start text-white-50",children:(0,I.jsx)(c.cC,{id:"gY2ZKQ"})}),(0,I.jsx)("div",{className:"flex flex-col text-xs",children:t?(0,I.jsx)(O.O,{className:"mt-1 h-3 w-20"}):(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:"flex w-full flex-row justify-end",children:[(0,I.jsx)("span",{className:"".concat(p," text-end"),children:m}),(0,I.jsx)("div",{className:"fill-current ".concat(p)})]})})})]}):null},ve=n(87148),he=n(40558),ge=function(e){var t=e.loading,n=e.hasAtaDeposit,r=e.feeInformation,i=(0,ve.Z)(n),a=t&&i;return n||a?(0,I.jsxs)("div",{className:"flex items-start justify-between text-xs",children:[(0,I.jsxs)("div",{className:"flex w-1/2 text-white-50",children:[(0,I.jsx)(c.cC,{id:"kj3M8S"}),(0,I.jsx)(he.Z,{variant:"dark",content:(0,I.jsx)("div",{className:"max-w-xs rounded-lg text-white-75",children:(0,I.jsx)("ul",{className:"pl-2",children:n&&(0,I.jsx)("li",{children:(0,I.jsx)("p",{children:(0,I.jsx)(c.cC,{id:"qH7KBw"})})})})}),children:(0,I.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),a?(0,I.jsx)(O.O,{className:"h-4 w-12 self-end"}):(0,I.jsx)("div",{className:"w-1/2 text-right text-xs text-white-50",children:function(){var e,t,i=[n&&r&&(0,I.jsx)("p",{children:(0,I.jsx)(c.cC,{id:"LrkXG5",values:{0:P.uf.format((0,P.lt)(r.ataDeposits.reduce((function(e,t){return e+=t}),0),9).toString()),1:null===r||void 0===r||null===(e=r.ataDeposits)||void 0===e?void 0:e.length,2:(null===r||void 0===r||null===(t=r.ataDeposits)||void 0===t?void 0:t.length)||0}})},"ata")].filter(Boolean);return i.length?i:"-"}()})]}):null},je=n(90342),be=function(e){var t=e.feeInformation,n=(0,je.gs)().userMaxFeeInSOL,r=(0,j.useMemo)((function(){if(!t)return"-";var e=t.signatureFee;return new v.Z(e).div(Math.pow(10,9)).add("number"===typeof n&&n||0).toString()}),[t,n]);return(0,I.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,I.jsxs)("div",{className:"flex w-1/2 text-white-50",children:[(0,I.jsx)(c.cC,{id:"KS/Yzj"}),(0,I.jsx)(he.Z,{content:(0,I.jsx)(c.cC,{id:"kxQ1tI"}),children:(0,I.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),(0,I.jsxs)("div",{className:"text-white-50",children:[r," SOL"]})]})},we=function(e){var t,n=e.loading,r=e.route,i=e.inputPair,a=e.outputPair,o=(0,z.gJ)(),s=(0,ue.v)(r),l=s.priceImpactText,u=s.priceImpactColor,m=(0,j.useMemo)((function(){var e=r.swapMode===d.jr.ExactIn?a:i,t=new v.Z(r.otherAmountThreshold.toString()).div(Math.pow(10,e.decimals)),n=P.uf.format(t);return"".concat(n," ").concat(e.symbol)}),[r.swapMode,r.otherAmountThreshold,a,i]),p=(null!==(t=null===o||void 0===o?void 0:o.ataDeposits.length)&&void 0!==t?t:0)>0,x=o;return(0,I.jsx)("div",{className:"mt-3 w-full rounded-lg border border-v2-lily/10 p-5 text-xs",children:(0,I.jsxs)("div",{className:"space-y-1",children:[(0,I.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,I.jsx)("div",{className:"text-white-50",children:r.swapMode===d.jr.ExactIn?(0,I.jsx)(c.cC,{id:"lTmG/H"}):(0,I.jsx)(c.cC,{id:"n8E9U9"})}),(0,I.jsx)("div",{className:"text-white-50",children:m})]}),(0,I.jsx)(be,{feeInformation:x}),(0,I.jsx)(ge,{loading:n,hasAtaDeposit:p,feeInformation:x}),(0,I.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,I.jsx)("div",{className:"text-white-50",children:(0,I.jsx)(c.cC,{id:"T+qgFw"})}),(0,I.jsx)("div",{className:u,children:l})]}),(0,I.jsx)(fe,{loading:n})]})})},ye=function(e){var t=e.loading,n=e.control,r=e.intervalRefresher,i=(0,b.qo)({control:n,name:"selectedRoute"}),o=(0,b.qo)({control:n,name:"fromValue.floatValue"}),s=(0,z.on)(),l=s.inputTokenInfo,u=s.outputTokenInfo,d=(0,z.tX)(),m=d.isWarning,p=d.isDanger,x=(0,K.Z)(),f=x.showSummary,v=x.setSpotSummary,h=j.useState(f),g=(0,a.Z)(h,2),w=g[0],y=g[1];if(j.useEffect((function(){(m||p)&&y(!0)}),[m,p]),!l||!u)return null;return(0,I.jsxs)("div",{className:"mx-1 mt-5 lg:mx-0 lg:my-5",children:[i?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"flex justify-between",children:[(0,I.jsx)("span",{className:"flex flex-col",children:(0,I.jsx)(q.Z,{className:"text-xs font-medium",inputAmount:i.quoteResponse.inAmount,outputAmount:i.quoteResponse.outAmount,inputPair:l,outputPair:u,reversible:!0})}),(0,I.jsxs)("button",{type:"button",onClick:function(){w?(y(!1),v(!1)):(y(!0),v(!0))},className:"flex cursor-pointer items-start space-x-2 text-white/25 hover:text-v2-primary",children:[(0,I.jsx)("div",{className:"flex h-4 w-4 items-center fill-current",children:w?(0,I.jsx)(G.Z,{}):(0,I.jsx)(U.Z,{})}),(0,I.jsx)("span",{className:"text-xs font-medium",children:w?(0,I.jsx)(c.cC,{id:"DPM6n/"}):(0,I.jsx)(c.cC,{id:"YvPON1"})}),r]})]}),w&&(0,I.jsx)(we,{route:i.quoteResponse,loading:t,inputPair:l,outputPair:u})]}):o>0?(0,I.jsxs)("div",{className:"flex justify-between",children:[(0,I.jsx)("div",{className:"flex h-4 w-4 items-center fill-current"}),r]}):null,(0,I.jsxs)("div",{className:"mt-2 flex w-full flex-col space-y-2 sm:mt-4",children:[(0,I.jsx)(ce,{token:l}),(0,I.jsx)(ce,{token:u})]})]})},Ne=n(57715),Se=n(16344),ke=n(96404),Te=function(e){var t=e.control,n=e.name,r=e.className,i=e.useWSol,a=(0,p.Bn)().tokenMap,o=(0,p.Os)().connected,s=(0,b.qo)({control:t,name:n}),l=j.useMemo((function(){return a.get(s)}),[a,s]);return o?(0,I.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,I.jsx)("div",{className:"mb-px fill-current text-white-75",children:(0,I.jsx)(Se.Z,{width:12,height:12})}),(0,I.jsxs)("div",{className:(0,C.cn)("whitespace-nowrap text-xs font-normal text-v2-lily/50",r),children:[(0,I.jsx)(ke.Z,{mintAddress:s,useWSOL:i})," ",(0,I.jsx)("span",{children:null===l||void 0===l?void 0:l.symbol})]})]}):null},Ce=n(95523),Pe=n(57281),Me=n(11823),Oe=n(56720),Ae=n(40993),Ze=n(11711),Ie=n(3011),Re=n(39268),Ve=n.n(Re),Ee=n(85948),Le=n(33130),_e=n(81098),Be={quotedSlippage:(0,n(9364).cn)(void 0)},De=n(11421),Fe=n(14167),qe=n(49488),Ke=n(11003),Ue=n(51232),Ge=n(62146),ze=n(10563),He=n(35186),We=n(42916),Qe=function(e){var t=e.ammName,n=e.excludeAmm,r=(0,B.JT)().closeModal;return(0,I.jsxs)("div",{className:"max-w-md bg-v2-background p-5",children:[(0,I.jsx)("p",{className:"mb-8 text-xl font-medium leading-5",children:"Transaction Failure"}),(0,I.jsxs)("p",{className:"mb-2 text-sm text-v2-lily/75",children:["Your transaction failed due to an issue with ",t]}),(0,I.jsx)("p",{className:"mb-8 text-sm text-v2-lily/75",children:"We recommend that you exclude affected DEX(es) and fetch a new quote for your swap."}),(0,I.jsxs)(M.Z,{className:"mb-2",size:"md",onClick:function(){n(),r()},children:["Exclude ",t," and Fetch New Quote"]}),(0,I.jsx)("button",{className:"mt-2 h-14 w-full rounded-xl border border-v2-lily/25",onClick:r,children:"Cancel"})]})},Ye=function(e){var t=e.onClickExactIn;return(0,I.jsxs)("div",{className:"mt-2 flex flex-col justify-start rounded-lg border border-warning/50 bg-warning/10 px-3 py-2 text-xs text-perps-warning",children:[(0,I.jsx)("p",{children:u.ag._({id:"CkQDpF"})}),t&&(0,I.jsx)("div",{onClick:t,className:"mt-2 cursor-pointer underline",children:u.ag._({id:"/Kt5Cd"})})]})},Je=n(92956),Xe=n(65558),$e=n.n(Xe),et=n(57917),tt=n(37124),nt=n(33118),rt=n(89881),it=function(e){var t=e.control,n=e.loading,r=e.error,i=e.moreErrors,o=e.simulationButtonText,s=(0,Je.O)().connected,l=(0,b.cl)({control:t}).isSubmitting,m=(0,b.qo)({control:t,name:"fromTokenAddress"}),x=(0,b.qo)({control:t,name:"toTokenAddress"}),f=(0,b.qo)({control:t,name:"selectedRoute"}),h=(0,b.qo)({control:t,name:"fromValue"}),g=(0,b.qo)({control:t,name:"toValue"}),w=(0,b.qo)({control:t,name:"toastId"}),y=(0,p.jB)().useWSol,N=(0,p.Bn)().tokenMap,S=(0,p.FB)(m,void 0,y).balance,k=(0,p.gZ)().nativeAccount,T=(0,z.gJ)(),C=j.useMemo((function(){return null===N||void 0===N?void 0:N.get(m)}),[m,N]),P=j.useMemo((function(){return null===N||void 0===N?void 0:N.get(x)}),[x,N]),M=j.useMemo((function(){var e=S,t=null===C||void 0===C?void 0:C.decimals;if(f&&t){var n=f.quoteResponse.swapMode===Pe.jr.ExactOut?new v.Z(f.quoteResponse.otherAmountThreshold.toString()).div(Math.pow(10,C.decimals)):null===h||void 0===h?void 0:h.value;return new v.Z(n||0).lessThanOrEqualTo(e)}return!0}),[C,h,S,f]),O=j.useMemo((function(){if(T&&f){var e=!y&&f.quoteResponse.inputMint.equals(Pe.W4)?new($e())(f.quoteResponse.inAmount.toString()):new($e())(0);return((null===k||void 0===k?void 0:k.info.amount)||new($e())(0)).sub(e).gt(new($e())(T.minimumSOLForTransaction))}return!0}),[T,f,k,y]),A=(0,rt.useIsAccountFrozen)(C),Z=(0,rt.useIsAccountFrozen)(P),R=(0,et.kH)(w),V=R.isProcessing,E=R.isTxProcessed,L=R.isWaitingWalletToSign,_=j.useState(""),B=(0,a.Z)(_,2),D=B[0],F=B[1],q=j.useState(null),K=(0,a.Z)(q,2),U=K[0],G=K[1],H=j.useCallback((function(e){F("opacity-0"),setTimeout((function(){G(e),F("opacity-100")}),200)}),[]);return j.useEffect((function(){if(n)H((0,I.jsx)(c.cC,{id:"yQE2r9"}));else{var e={fromTokenAddress:m,toTokenAddress:x,fromValue:h,toValue:g};if(r)return r===d.D1.TOKEN_NOT_TRADABLE?H(u.ag._({id:"tz4GX1"})):r===d.D1.COULD_NOT_FIND_ANY_ROUTE||r===d.D1.NO_ROUTES_ERROR?((0,De.Kz)(Ee.bk.NO_ROUTES_ERROR,e),H(u.ag._({id:"ZSrFB6"}))):r===d.D1.ROUTE_PLAN_DOES_NOT_CONSUME_ALL_THE_AMOUNT?H((0,I.jsx)(c.cC,{id:"P25nfv"})):r===d.D1.INVALID_REQUEST?H(u.ag._({id:"71Xwww"})):H((0,I.jsx)(c.cC,{id:"pspLgZ",components:{0:(0,I.jsx)("br",{})}})),void(0,De.Kz)(r,e);l?o?H(o):E?H((0,I.jsx)(c.cC,{id:"zisYnV"})):V&&H((0,I.jsx)(c.cC,{id:"vrnnn9"})):H((0,I.jsx)(c.cC,{id:"vH2C/2"}))}}),[V,l,E,L,n,H,f,null===h||void 0===h?void 0:h.value,o,r,m,x,h,g]),s?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("div",{className:(0,de.cn)("relative mt-2"),children:(0,I.jsx)(tt.Z,{disabled:!f||!M||!O||n||i.notTradableYet||!(null!==h&&void 0!==h&&h.value)||!(null!==g&&void 0!==g&&g.value)||A||Z,loading:l,type:"submit",className:"relative !transition-none",children:n?(0,I.jsx)(c.cC,{id:"yQE2r9"}):null!==i&&void 0!==i&&i.notTradableYet?(0,I.jsx)(c.cC,{id:"t+lyiG"}):null!==h&&void 0!==h&&h.value?M?O?A||Z?(0,I.jsx)(c.cC,{id:"DtetjN"}):(0,I.jsx)("span",{className:(0,de.cn)("duration-200",D),children:U}):(0,I.jsx)(c.cC,{id:"GyFBKR"}):(0,I.jsx)(c.cC,{id:"UsQ5AM",values:{0:null===C||void 0===C?void 0:C.symbol}}):(0,I.jsx)(c.cC,{id:"iPMIoT"})})})}):(0,I.jsx)(nt.Z,{className:"mt-2"})},at=n(41118),ot=n(66956),st=n(23632),lt=n(85394),ct=Ve()((function(){return n.e(62583).then(n.bind(n,62583))}),{ssr:!1,loadableGenerated:{webpack:function(){return[62583]}}}),ut="PAIRS_SELECT_TO_PAIR_MODAL_ID",dt=function(e){var t,n=e.onSubmit,r=e.refresh,i=e.loading,a=e.onClickMax,o=e.control,s=e.setValue,l=e.type,d=e.getValues,m=e.fromTokenInfo,x=e.toTokenInfo,f=e.isSubmitting,h=e.notTradableYet,b=e.error,w=e.simulationButtonText,y=(0,p.mQ)().slippageSettings,N=(0,ot.b)(m,x),S=N.quoteTokenInfo,k=N.baseTokenInfo,T=N.quoteTokenPrice,C=N.baseTokenPrice,P=N.rateDecimals,A=j.useMemo((function(){if(!at.d.find((function(e){return e===(null===m||void 0===m?void 0:m.address)||e===(null===x||void 0===x?void 0:x.address)})))return null;var e=(null===m||void 0===m?void 0:m.address)===(null===k||void 0===k?void 0:k.address);return{isFromBase:Boolean(e)}}),[null===k||void 0===k?void 0:k.address,null===m||void 0===m?void 0:m.address,null===x||void 0===x?void 0:x.address]),V=(0,st.s)({quoteTokenInfo:S,baseTokenInfo:k,quoteTokenPrice:T,baseTokenPrice:C,isBaseQuoteMode:A,rateDecimals:P,isSubmitting:f}),E=V.swapMarketPrice,L=V.isFetching,_=(0,j.useState)({formattedValue:"",value:"",floatValue:0}),B=_[0],D=_[1],q=(0,j.useState)({formattedValue:"",value:"",floatValue:0}),K=q[0],U=q[1],G=Boolean(!L&&E),z=j.useMemo((function(){var e=new v.Z(0);if(!G||!B||!E||!B.floatValue)return e;var t=new v.Z(B.floatValue).sub(E).div(E);return(e=new v.Z(100).mul(t).toDP(2)).isFinite()?e:new v.Z(0)}),[G,B,E]),H=j.useMemo((function(){return z.gt(1e4)?">10000":"".concat(z.toNumber()>0?"+":"").concat(z.toDP(2).toString())}),[z]),W=j.useMemo((function(){return null!==A&&void 0!==A&&A.isFromBase?z.toNumber()<0:z.toNumber()>0}),[null===A||void 0===A?void 0:A.isFromBase,z]),Q=j.useMemo((function(){return null!==A&&void 0!==A&&A.isFromBase?z.toNumber()>0:z.toNumber()<0}),[null===A||void 0===A?void 0:A.isFromBase,z]),Y=j.useMemo((function(){return W||Q}),[W,Q]),J=d().fromValue;(0,j.useEffect)((function(){if(null!==J&&void 0!==J&&J.floatValue&&B.floatValue&&x){var e=null!==A&&void 0!==A&&A.isFromBase?new v.Z(J.floatValue).mul(B.floatValue).toDP(x.decimals):new v.Z(J.floatValue).div(B.floatValue).toDP(x.decimals);U({formattedValue:e.toString(),value:e.toString(),floatValue:e.toNumber()})}else U({formattedValue:"",value:"",floatValue:void 0})}),[null===J||void 0===J?void 0:J.floatValue,E,B.floatValue,x,A]),(0,j.useEffect)((function(){G&&E&&D({formattedValue:E.toString(),value:E.toString(),floatValue:E.toNumber()})}),[G,E]);var X=(0,j.useCallback)((function(e){if(e.preventDefault(),"minimum-output"!==y.mode)n();else{if(!K.floatValue||!x)return;n({minimumOutput:g().BigInt(new v.Z(K.floatValue).mul(Math.pow(10,x.decimals)).toFixed())})}}),[K.floatValue,n,y.mode,x]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ct,{onlySlippageSettings:!0,refresh:r,loading:i,isLaunchPage:!0}),(0,I.jsxs)("form",{onSubmit:X,children:[(0,I.jsxs)("div",{className:"relative mt-1 flex-col space-y-2",children:[(0,I.jsxs)("div",{className:"flex justify-between",children:[(0,I.jsx)("label",{htmlFor:"fromValue",className:"text-xs font-medium text-white md:text-sm",children:(0,I.jsx)(c.cC,{id:"67NyRk"})}),(0,I.jsxs)("div",{className:"flex space-x-2",children:[(0,I.jsx)("div",{className:"item-center ml-1 flex cursor-pointer hover:text-white-50",onClick:a,children:(0,I.jsx)(Te,{control:o,name:"fromTokenAddress",className:"hover:text-white-50"})}),(0,I.jsx)(Me.oi,{mint:null!==(t=null===m||void 0===m?void 0:m.address)&&void 0!==t?t:"",onBalanceChange:function(e){s("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}})]})]}),(0,I.jsx)("div",{className:(0,de.cn)("group relative flex h-[72px] flex-col space-y-3 rounded-xl border border-transparent bg-v2-background-dark p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,I.jsxs)("div",{className:"flex",children:[(0,I.jsx)(F,{disableTokenSelect:"sell"===(null===l||void 0===l?void 0:l.side),getValues:d,control:o,modalId:ut,name:"fromTokenAddress"}),(0,I.jsx)("span",{className:"flex-1 text-right",children:(0,I.jsx)(R,{control:o,name:"fromValue"})})]})}),"minimum-output"===y.mode&&(0,I.jsx)("div",{className:"my-2 flex-col-reverse space-y-2 sm:flex sm:flex-row sm:space-x-3 sm:space-y-0",children:(0,I.jsxs)("div",{className:(0,de.cn)("flex w-full flex-col justify-center space-y-1 rounded-xl bg-v2-background-dark p-4","border border-transparent focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark","relative"),children:[(0,I.jsxs)("div",{className:"flex justify-between",children:[(0,I.jsxs)("div",{className:"flex items-center",children:[k?(0,I.jsxs)("p",{className:"flex items-center text-xs text-white-35",children:[null!==A&&void 0!==A&&A.isFromBase?(0,I.jsx)(c.cC,{id:"xNB0TS"}):(0,I.jsx)(c.cC,{id:"qiOIiY"})," ",(0,I.jsx)(c.cC,{id:"kBSo/e",values:{0:null===k||void 0===k?void 0:k.symbol}}),L?(0,I.jsx)(lt.Z,{className:"ml-1",width:8,height:8}):null]}):(0,I.jsx)(O.O,{className:"h-4 w-2"}),Y?(0,I.jsx)("div",{className:(0,de.cn)("ml-1 flex items-center text-xs font-medium",{"text-jupiter-yellow":W,"text-v2-primary":Q}),children:"(".concat(H,"%)")}):null]}),E&&E.gt(0)?(0,I.jsx)("button",{type:"button",className:"cursor-pointer rounded text-xxs text-white-35 underline hover:text-white-75",onClick:function(){E&&D({formattedValue:E.toString(),value:E.toString(),floatValue:E.toNumber()})},children:(0,I.jsx)(c.cC,{id:"+NNtb4"})}):null]}),(0,I.jsxs)("div",{className:"relative flex items-end",children:[(0,I.jsx)(Z.Z,{decimals:P,onChange:function(e){D(e)},value:B.floatValue,disabled:!1,className:"flex-1 !text-left !text-sm"}),S?(0,I.jsx)("div",{className:"flex items-center",children:(0,I.jsx)("span",{className:"text-sm font-semibold",children:null===S||void 0===S?void 0:S.symbol})}):(0,I.jsx)(O.O,{className:"h-6 w-11"})]})]})}),(0,I.jsxs)("div",{className:"mt-2 flex justify-between",children:[(0,I.jsx)("label",{className:"text-xs font-medium text-white md:text-sm",children:"minimum-output"===y.mode?u.ag._({id:"uKboGs"}):u.ag._({id:"CCrO9m"})}),(0,I.jsx)("div",{className:"flex",children:(0,I.jsx)(Te,{control:o,name:"toTokenAddress"})})]}),(0,I.jsx)("div",{className:"flex h-[72px] flex-col space-y-3 rounded-xl border-0 bg-[rgba(14,19,32,0.3)] p-4",children:(0,I.jsxs)("div",{className:"flex",children:[(0,I.jsx)(F,{disableTokenSelect:"buy"===(null===l||void 0===l?void 0:l.side),getValues:d,control:o,modalId:ut,name:"toTokenAddress"}),(0,I.jsx)("span",{className:"h-10 flex-1 text-right",children:x&&(0,I.jsx)(Z.Z,{className:"outline-none disabled:!text-white",decimals:x.decimals,onChange:function(){},value:K.floatValue,disabled:!0})})]})})]}),"minimum-output"!==y.mode||K.floatValue?(0,I.jsx)(it,{loading:i,control:o,error:b,moreErrors:{notTradableYet:h},simulationButtonText:w}):(0,I.jsx)("div",{className:(0,de.cn)("relative mt-3"),children:(0,I.jsx)(M.Z,{disabled:!0,loading:f,type:"submit",className:(0,de.cn)("relative w-full border border-transparent bg-[#121D28] !transition-none",f?(0,de.cn)("bg-[#0f2d3d] transition-all duration-200 [&>div]:!text-labs"):""),children:u.ag._({id:"2T1hut"})})})]})]})},mt=n(18849),pt=n(795).Buffer;pt.from([229,23,203,151,122,227,173,42]),pt.from([193,32,155,51,65,214,156,129]),pt.from([208,51,239,151,123,43,237,92]),pt.from([176,209,105,168,154,125,69,62]);function xt(e,t,n){return ft.apply(this,arguments)}function ft(){return ft=(0,r.Z)(l().mark((function e(t,n,i){var a,o=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:4,e.abrupt("return",new Promise(function(){var e=(0,r.Z)(l().mark((function e(r){var o,s,c,u,d,m,p,x,h,g,j;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=null,s=null,setTimeout((function(){r({context:s,value:o})}),1e4);case 3:if(!(a>=0)){e.next=37;break}if(e.prev=4,"swapTransaction"in n){e.next=7;break}return e.abrupt("return");case 7:if(u=void 0,!(n.swapTransaction instanceof f.VersionedTransaction)){e.next=12;break}u=n.swapTransaction,e.next=16;break;case 12:if(n.swapTransaction.feePayer){e.next=14;break}throw new Error("No fee payer found");case 14:d=new f.TransactionMessage({payerKey:n.swapTransaction.feePayer,recentBlockhash:n.blockhash,instructions:n.swapTransaction.instructions}).compileToV0Message(),u=new f.VersionedTransaction(d);case 16:return e.next=18,t.simulateTransaction(u,{replaceRecentBlockhash:!0,commitment:"processed"});case 18:if(m=e.sent,s=m.context,p=null===(c=m.value.logs)||void 0===c?void 0:c.reverse().find((function(e){return e.startsWith("Program return: JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4")})),x=(null===p||void 0===p?void 0:p.split(" ").reverse()[0])||"",h=mt.base64.decode(x),g=h.readBigInt64LE()){e.next=27;break}return a--,e.abrupt("continue",3);case 27:return j="ExactIn"===i.quoteResponse.swapMode?new v.Z(g.toString()).div(i.quoteResponse.outAmount.toString()).minus(1).mul(-1e4):new v.Z(i.quoteResponse.inAmount.toString()).div(g.toString()).minus(1).mul(-1e4),o=j,e.abrupt("break",37);case 32:e.prev=32,e.t0=e.catch(4),a--;case 35:e.next=3;break;case 37:r({context:s,value:o});case 38:case"end":return e.stop()}}),e,null,[[4,32]])})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),ft.apply(this,arguments)}var vt=n(11805);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt=Ve()((function(){return n.e(75868).then(n.bind(n,75868))}),{ssr:!1,loadableGenerated:{webpack:function(){return[75868]}}}),bt=Ve()((function(){return Promise.resolve().then(n.bind(n,89881))}),{ssr:!1,loadableGenerated:{webpack:function(){return[89881]}}}),wt=Ve()((function(){return n.e(62583).then(n.bind(n,62583))}),{ssr:!1,loadableGenerated:{webpack:function(){return[62583]}}}),yt="PAIRS_SELECT_TO_PAIR_MODAL_ID";function Nt(e){return e.map((function(e){return gt(gt({},e),{},{data:Object.keys(e.data).reduce((function(t,n){var r;return e.data&&null!==(r=e.data[n])&&void 0!==r&&r.toString?t[n]=e.data[n].toString():t[n]=e.data,t}),{})})}))}var St=function(e){var t=e.isLaunchPage,n=(0,B.JT)().openModal;return(0,I.jsx)(M.Z,{size:"xs",type:"button",className:"mt-4",onClick:function(){return n((0,I.jsx)(He.ZP,{isLaunchPage:t}),{canDismiss:!1})},children:u.ag._({id:"G2/8Wt"})})},kt=function(e){var t=e.inToken,n=e.outToken,o=e.type,s=(0,p.Os)().wallet,h=(0,p.jB)(),M=h.useWSol,O=h.asLegacyTransaction,A=(0,Ze.NL)(),Z=(0,p.y6)(),E=Z.tokenPriceMap,_=Z.getUSDValue,D=j.useMemo((function(){return"launch-page"===(null===o||void 0===o?void 0:o.mode)}),[null===o||void 0===o?void 0:o.mode]),q=(0,We.Z)().refetch,K=(0,p.C9)(),U=(0,S.T)(),G=(0,p.W2)(),H=(0,b.cI)({defaultValues:{fromTokenAddress:"",toTokenAddress:"",toastId:j.useMemo((function(){return(0,Fe.w)()}),[])},mode:"all",criteriaMode:"all"}),W=H.handleSubmit,Q=H.setValue,Y=H.reset,J=H.control,X=H.formState,$=X.isSubmitting,ee=X.dirtyFields,te=X.isDirty,ne=H.getValues,re=(0,B.JT)().openModal,ie=(0,p.Bn)(),ae=ie.getTokenInfo,oe=ie.newTokenListMap,se=ie.connection,le=(0,b.qo)({control:J}),ce=le.fromTokenAddress,ue=le.fromValue,de=le.toValue,me=le.toTokenAddress,pe=(0,p.mQ)(),xe=pe.slippage,fe=pe.slippageSettings,ve=pe.setSlippageSettings,he=(0,w.Z)(T.J,null),ge=(0,a.Z)(he,2),be=(ge[0],ge[1]),we=(0,je.gs)(),Se=j.useMemo((function(){return{fromTokenInfo:ae(ce),toTokenInfo:ae(me)}}),[ae,ce,me]),ke=Se.fromTokenInfo,Re=Se.toTokenInfo;j.useEffect((function(){var e=[];t&&(e.push(t.address),Q("fromTokenAddress",t.address)),n&&(e.push(n.address),Q("toTokenAddress",n.address)),_(e)}),[Q,_,t,n]);var Ve=j.useRef(!1),He=j.useMemo((function(){return!1===Ve.current?ke&&null!==ue&&void 0!==ue&&ue.value?g().BigInt(new v.Z(ue.value).mul(Math.pow(10,ke.decimals)).floor().toFixed()):g().BigInt(0):Re&&null!==de&&void 0!==de&&de.value?g().BigInt(new v.Z(de.value).mul(Math.pow(10,Re.decimals)).floor().toFixed()):g().BigInt(0)}),[ke,null===ue||void 0===ue?void 0:ue.value,Re,null===de||void 0===de?void 0:de.value]),Je=Ve.current?Pe.jr.ExactOut:Pe.jr.ExactIn,Xe=j.useMemo((function(){if(Je!==Pe.jr.ExactOut)return O?void 0:64}),[Je,O]),$e=(0,p.jB)(),et=j.useMemo((function(){return gt(gt({amount:He,inputMint:ce?new f.PublicKey(ce):void 0,outputMint:me?new f.PublicKey(me):void 0,maxAccounts:Xe,swapMode:Je},"minimum-output"===fe.mode?{slippageBps:0}:"dynamic"===fe.mode?{slippageBps:Math.ceil(100*Number(fe.maxDynamicSlippagePct))}:"fixed"===fe.mode?{slippageBps:Math.ceil(100*Number(xe)),computeAutoSlippage:!0}:void 0),{},{minimizeSlippage:Boolean("true"===vt.env.NEXT_PUBLIC_IS_EDGE)})}),[He,ce,Xe,xe,fe,Je,me]),tt=(0,d.OO)(et),nt=tt.quoteResponseMeta,rt=tt.loading,at=tt.refresh,ot=tt.fetchSwapTransaction,st=tt.lastRefreshTimestamp,lt=tt.programIdToLabelMap,ct=tt.programIdsExcluded,ut=tt.setProgramIdsExcluded,mt=tt.error,pt=(0,Ie.KO)(Be.quotedSlippage),ft=(0,a.Z)(pt,2),ht=ft[0],kt=ft[1];j.useEffect((function(){null!==nt&&void 0!==nt&&nt.quoteResponse.slippageBps?kt(null===nt||void 0===nt?void 0:nt.quoteResponse.slippageBps):kt(void 0)}),[ht,null===nt||void 0===nt?void 0:nt.quoteResponse.slippageBps,kt,xe]);var Tt=(0,Ie.KO)(_e.j.amms),Ct=(0,a.Z)(Tt,2)[1];j.useEffect((function(){if(lt&&lt.size>0){var e=(0,i.Z)(lt.entries()).map((function(e){var t=(0,a.Z)(e,2),n=t[0];return{label:t[1],ammProgramId:n}}));Ct(e)}}),[lt,Ct]);var Pt=(0,Ie.KO)(_e.j.excludedAmms),Mt=(0,a.Z)(Pt,1)[0];j.useEffect((function(){ut(new Set(Mt.map((function(e){return e.ammProgramId}))))}),[Mt,ut]),j.useEffect((function(){if(Q("selectedRoute",nt),nt){if(!Re)return;if(!1===Ve.current){var e=new v.Z(nt.quoteResponse.outAmount.toString()||"0").div(Math.pow(10,Re.decimals)),t=e.toFixed()||"",n=e?e.toNumber():e;Q("toValue",{formattedValue:t,value:t,floatValue:n})}else{if(!ke)return;var r=new v.Z(nt.quoteResponse.inAmount.toString()||"0").div(Math.pow(10,ke.decimals)),i=r.toFixed()||"",a=r?r.toNumber():r;Q("fromValue",{formattedValue:i,value:i,floatValue:a})}}else Q(!1===Ve.current?"toValue":"fromValue",void 0)}),[nt,Re,Q,ke]),(0,z.Gl)(rt||null===nt||void 0===nt?void 0:nt.quoteResponse,ce,me),j.useEffect((function(){rt&&Q(!1===Ve.current?"toValue":"fromValue",{formattedValue:"",value:"",floatValue:0})}),[rt,Q]);var Ot=(0,Le.R3)(),At=(0,Ie.KO)(Ae.yz),Zt=(0,a.Z)(At,1)[0],It=j.useState(),Rt=(0,a.Z)(It,2),Vt=Rt[0],Et=Rt[1],Lt=(0,x.lm)().toast,_t=j.useCallback(function(){var e=(0,r.Z)(l().mark((function e(t){var n,o,c,x,f,h,g,j,b,w,y,S,k,T,C,Z,R,V,L,_,B,F,U,z,H,W,Y;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.selectedRoute,c=t.fromTokenAddress,x=t.toTokenAddress,f=t.toastId,h=t.minimumOutput,s&&s.adapter.publicKey&&o&&c&&x){e.next=3;break}return e.abrupt("return");case 3:if(null===G||void 0===G||G.persistReferrer(),g={startTime:void 0},j=o,b=(null===(n=E[c||""])||void 0===n?void 0:n.usd)||0,w=new v.Z((null===ue||void 0===ue?void 0:ue.value)||0).mul(b).toString(),y={quoteResponseMeta:j.original,wallet:s.adapter.name,inputAmountInUSD:w,ammLabels:(0,i.Z)((0,Ne.Kc)(j.quoteResponse.routePlan).labels),excludedAmms:Mt.map((function(e){return e.label})),slippageSettings:fe,jupiterParams:(0,Ue.w_)(et),jupiterConfigProps:(0,Ue.w_)({restrictIntermediateTokens:$e.restrictIntermediateTokens,onlyDirectRoutes:$e.onlyDirectRoutes,useWSol:$e.useWSol,asLegacyTransaction:$e.asLegacyTransaction}),globalPriority:{prioritizationFee:we.userMaxFeeInSOL,prioritizationFeeLamports:we.userMaxFeeInLamports,isRequestingMaxFee:we.isRequestingMaxFee,priorityLevel:we.priorityLevel,broadcastMode:we.broadcastMode}},(0,De.Kz)(Ee.NR,gt(gt({},y),{},{deltaFromQuoteMs:Date.now()-st})),S=ae(c),k=ae(x),T=function(e){var t=e.txid,n=e.inputMint,r=e.outputMint,i=e.transactionResponse;try{var l,c,u=(0,Pe.Od)({txid:t,inputMint:n,outputMint:r,hasWrappedSOL:M,transactionResponse:i,user:s.adapter.publicKey}),d=(0,a.Z)(u,2),m=d[0],p=d[1],x=S.symbol,f=P.uf.format(new v.Z(m).div(Math.pow(10,S.decimals))),h=k.symbol,g=P.uf.format(new v.Z(p).div(Math.pow(10,k.decimals))),j=p?new v.Z(p).div(o.quoteResponse.outAmount.toString()).minus(1).mul(-1e4).toNumber():null,b=j?new v.Z(j).div(100).toFixed(2):null,w=null!==(l=i.meta)&&void 0!==l&&l.fee?new v.Z(null===(c=i.meta)||void 0===c?void 0:c.fee).div(Math.pow(10,9)).toString():void 0;return{sourceTokenBalanceChange:m,destinationTokenBalanceChange:p,inputSymbol:x,inputAmount:f,outputSymbol:h,outputAmount:g,incurredSlippageBps:j,incurredSlippagePct:b,feeInSOL:w}}catch(y){return null}},C=[],Et(u.ag._({id:"QPASEU"})),R=function(){var e=(0,r.Z)(l().mark((function e(t){var n,r,s,h,b;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=j.quoteResponse,r=n.inputMint,s=n.outputMint,!("error"in t)){e.next=5;break}console.error("Error in swapTransactionResponse",t.error),e.next=9;break;case 5:return e.next=7,Ot(t.swapTransaction,{blockhash:t.blockhash,idl:Pe.GS,idlProgramId:d.Cc,lastValidBlockHeight:t.lastValidBlockHeight,skipPreflight:!0},{referenceFee:function(){var e=(0,m.eD)(t.swapTransaction);return e?Number(e):Zt.jup.m&&Zt.jup.h&&Zt.jup.vh?"MEDIUM"===we.priorityLevel?Zt.jup.m:"HIGH"===we.priorityLevel?Zt.jup.h:"VERY_HIGH"===we.priorityLevel?Zt.jup.vh:void 0:Zt.swapFee}(),minimumFee:Ae.uo,toastId:f,submittingMessage:null,onSending:function(){g.startTime=Date.now(),Et(void 0)},autoResolveOnProcessed:!0,resolveSuccessTitleAndDescription:function(e,n){var i;C=(0,Pe.vw)(e);var a=T({txid:n,inputMint:r,outputMint:s,transactionResponse:e}),o=u.ag._({id:"Cleqqa"});a&&(o=u.ag._({id:"amwDxk",values:{0:a.inputAmount,1:a.inputSymbol,2:a.outputAmount,3:a.outputSymbol}}));var l,c=gt(gt({},y),{},{feeInSOL:null===a||void 0===a?void 0:a.feeInSOL,txid:n,sourceTokenBalanceChange:null===a||void 0===a?void 0:a.sourceTokenBalanceChange,destinationTokenBalanceChange:null===a||void 0===a?void 0:a.destinationTokenBalanceChange,incurredSlippage:null===a||void 0===a?void 0:a.incurredSlippageBps,events:Nt(C),computeUnitsConsumed:null===(i=e.meta)||void 0===i?void 0:i.computeUnitsConsumed,dynamicSlippageReport:t.dynamicSlippageReport});(g.startTime&&(0,De.Kz)(Ee.o1,gt(gt({},c),{},{ping:(Date.now()-g.startTime)/1e3})),null!==G&&void 0!==G&&G.referrerAccount)&&(0,De.Kz)(Ee.Yl,gt(gt({},c),{},{referrerAccount:G.referrerAccount.toString(),feeBps:null===(l=G.feeBps)||void 0===l?void 0:l.toString()}));return{title:"",description:o}},resolveErrorTitleAndDescription:function(e,n){var o=(0,Pe.IS)(e),l=o.message,c=o.code,m=o.programIds,x=o.txid,f=x&&null!==n&&void 0!==n&&n.transactionResponse?T({txid:x,inputMint:r,outputMint:s,transactionResponse:n.transactionResponse}):null,h=function(){var e,t=(null===m||void 0===m?void 0:m.reduce((function(e,t){var n=lt.get(t);return n?[n,t]:e}),["",""]))||["",""],n=(0,a.Z)(t,2),r=n[0],o=n[1],s=c&&(null===(e={LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo:[6001,3005],CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK:[6019],whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc:[6023]}[o])||void 0===e?void 0:e.includes(c));if(r&&!s)return re((0,I.jsx)(Qe,{ammName:r,excludeAmm:function(){ut((function(e){var t=Mt.map((function(e){return e.ammProgramId}));return O?new Set([].concat((0,i.Z)(t),[o])):(e.add(o),new Set([].concat((0,i.Z)(t),(0,i.Z)(e))))}))}}),{noCloseButton:!1}),{title:u.ag._({id:"A5SJF8",values:{faultyAmmLabel:r}}),description:c?u.ag._({id:"r3e05H",values:{code:c}}):l,shouldShowFeedbackLink:!0};var x=d.Cc.toBase58(),h=d.sv;if(null!==m&&void 0!==m&&m.some((function(e){return e===x}))||s){if(c===d.sv.SlippageToleranceExceeded.code||s){var g=function(){var e,t,n=Z&&"dynamicSlippageReport"in Z&&null!==(e=Z.dynamicSlippageReport)&&void 0!==e&&e.slippageBps?new v.Z(null===(t=Z.dynamicSlippageReport)||void 0===t?void 0:t.slippageBps).div(100):null,r=null!==f&&void 0!==f&&f.incurredSlippagePct?Number(null===f||void 0===f?void 0:f.incurredSlippagePct):null;return r?"fixed"===fe.mode?{title:u.ag._({id:"Ql8gPs"}),description:(0,I.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,I.jsx)("p",{children:u.ag._({id:"A4rcdv",values:{incurredSlippagePct:r}})}),(0,I.jsx)("p",{children:u.ag._({id:"XU0vnD"})})]})}:"minimum-output"===fe.mode?{title:u.ag._({id:"IZu71w"}),description:(0,I.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,I.jsx)("p",{children:u.ag._({id:"awrHjc"})})})}:r>=p.oo?{title:u.ag._({id:"Tfrtw5"}),description:(0,I.jsxs)("div",{className:"mb-4 flex flex-col gap-y-2",children:[(0,I.jsx)("p",{children:u.ag._({id:"vLN4hr",values:{incurredSlippagePct:r}})}),(0,I.jsx)("p",{children:u.ag._({id:"2NrJLl"})}),(0,I.jsx)(St,{isLaunchPage:D})]})}:r<fe.maxDynamicSlippagePct?{title:u.ag._({id:"Ql8gPs"}),description:n?(0,I.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,I.jsx)("p",{children:"The final slippage was ".concat(r," and it has exceeded the optimized slippage at ").concat(n,"%.")})}):(0,I.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,I.jsx)("p",{children:"The final slippage was ".concat(r,".")})})}:r>fe.maxDynamicSlippagePct?{title:u.ag._({id:"4UCKKK"}),description:(0,I.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,I.jsx)("p",{children:u.ag._({id:"ybpHil",values:{incurredSlippagePct:r}})}),(0,I.jsx)("p",{children:u.ag._({id:"r14tPR"})}),(0,I.jsx)(St,{isLaunchPage:D})]})}:((0,De.Kz)(Ee.A$,gt(gt({},y),{},{incurredSlippagePct:r,dynamicSlippageSubmittedPct:n})),n?{title:u.ag._({id:"Ql8gPs"}),description:u.ag._({id:"xKXM1M",values:{incurredSlippagePct:r,dynamicSlippageSubmittedPct:n}})}:{title:u.ag._({id:"Ql8gPs"}),description:u.ag._({id:"7b18nw",values:{incurredSlippagePct:r}})}):{title:u.ag._({id:"IZu71w"}),description:u.ag._({id:"9l/HZb"})}}();return{title:g.title,description:g.description,shouldShowFeedbackLink:!1}}if(c===h.BalancesNotExtractedProperly.code)return{title:u.ag._({id:"KEtDKy"}),shouldShowFeedbackLink:!0};if(c===h.TransactionNotConfirmed.code)return{title:u.ag._({id:"XLzgMr"}),description:u.ag._({id:"fnUfx2"}),shouldShowFeedbackLink:!1,shouldShowUpdatePriorityFee:!1}}switch(c){case h.InsufficientSOL.code:return{title:u.ag._({id:"GyFBKR"}),description:u.ag._({id:"Qfmu8/"}),shouldShowFeedbackLink:!0};case h.FrozenAccount.code:return{title:u.ag._({id:"MDUjKS"}),description:u.ag._({id:"Xl2KCt"}),shouldShowFeedbackLink:!0}}return{title:l||(null===c||void 0===c?void 0:c.toString())||"",description:c?u.ag._({id:"r3e05H",values:{code:c}}):l,shouldShowFeedbackLink:!0}}();return(0,De.Kz)(Ee.xp,gt(gt(gt(gt({txid:x,code:c,message:l,programIds:m},y),h),{},{sourceTokenBalanceChange:null===f||void 0===f?void 0:f.sourceTokenBalanceChange,destinationTokenBalanceChange:null===f||void 0===f?void 0:f.destinationTokenBalanceChange,incurredSlippage:null===f||void 0===f?void 0:f.incurredSlippageBps,events:Nt(C)},g.startTime?{pingInSecond:(Date.now()-g.startTime)/1e3}:void 0),{},{feeInSOL:null===f||void 0===f?void 0:f.feeInSOL,dynamicSlippageReport:t.dynamicSlippageReport})),h}});case 7:(h=e.sent).success?(be({fromPair:S.address,toPair:k.address}),A.invalidateQueries({queryKey:[p.gj]})):"error"in h&&h.error&&4001===(null===(b=h.error.error)||void 0===b?void 0:b.code)&&xt(se,t,o,0).then((function(e){var n=e.context,r=e.value;(0,De.Kz)(Ee.Nc,gt(gt({error:h.error.error},y),{},{rejectedSimulationSlippage:null===r||void 0===r?void 0:r.toNumber(),quoteContextSlot:j.quoteResponse.contextSlot,rejectedSimulationSlot:null===n||void 0===n?void 0:n.slot,dynamicSlippageReport:t.dynamicSlippageReport}))})).catch((function(){}));case 9:q(),K([c,x,N.W4]),at();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=16,V=null===s||void 0===s?void 0:s.adapter.publicKey){e.next=20;break}return e.abrupt("return");case 20:if(L={quoteResponseMeta:j,userPublicKey:V,wrapUnwrapSOL:!M,allowOptimizedWrappedSolTokenAccount:!0,prioritizationFeeLamports:{priorityLevelWithMaxLamports:{maxLamports:we.userMaxFeeInLamports,global:!1,priorityLevel:function(){switch(we.priorityLevel){case"MEDIUM":return"medium";case"HIGH":return"high";case"VERY_HIGH":return"veryHigh"}}()}}},"fixed"!==fe.mode){e.next=27;break}return e.next=24,ot(L);case 24:Z=e.sent,e.next=50;break;case 27:if("minimum-output"!==fe.mode||!h){e.next=35;break}return j.quoteResponse.outAmount=h,j.original.outAmount=h.toString(),e.next=32,ot(L);case 32:Z=e.sent,e.next=50;break;case 35:if("dynamic"!==fe.mode){e.next=50;break}return L.dynamicSlippage="dynamic"===fe.mode?{maxBps:Math.round(100*fe.maxDynamicSlippagePct)}:void 0,e.next=39,ot(L);case 39:if("swapTransaction"in(Z=e.sent)){e.next=42;break}throw new Error("No swapTransaction in swapTransactionResponseToUse");case 42:if(F=new v.Z((null===(_=Z.dynamicSlippageReport)||void 0===_?void 0:_.simulatedIncurredSlippageBps)||0),Boolean(F&&new v.Z(-1*fe.maxDynamicSlippagePct*100).gte(F))&&(U=function(){var e=new v.Z(F).mul(-1).div(100).toNumber();return fe.maxDynamicSlippagePct<p.oo?{title:u.ag._({id:"SaPP8z"}),description:(0,I.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,I.jsx)("p",{children:u.ag._({id:"9Ja0ta",values:{simulatedIncurredSlippagePct:e}})}),(0,I.jsx)("p",{children:u.ag._({id:"bjQCJE"})}),(0,I.jsx)(St,{isLaunchPage:D})]})}:{title:u.ag._({id:"cFP4Ga"}),description:(0,I.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,I.jsx)("p",{children:u.ag._({id:"fFgRd0",values:{simulatedIncurredSlippagePct:e}})}),(0,I.jsx)("p",{children:u.ag._({id:"2NrJLl"})}),(0,I.jsx)(St,{isLaunchPage:D})]})}}(),z=U.title,H=U.description,Lt({title:z,description:H,variant:Ke.Lb.INFO,duration:1e4})),W=null===(B=Z.dynamicSlippageReport)||void 0===B?void 0:B.slippageBps){e.next=48;break}throw new Error("Could not optimise slippage");case 48:Y=new v.Z(W).div(100).toNumber(),Et((0,I.jsxs)("div",{children:[u.ag._({id:"2JmVX8"})," ",Y,"%"]}));case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(16),console.log("Error getting swap transaction",e.t0);case 55:if(e.prev=55,Z){e.next=58;break}throw new Error("No swapTransactionResponseToUse");case 58:return e.next=60,R(Z);case 60:e.next=65;break;case 62:e.prev=62,e.t1=e.catch(55),console.log("Error performing swap",e.t1);case 65:return e.prev=65,Q("toastId",(0,Fe.w)()),Et(void 0),e.finish(65);case 69:case"end":return e.stop()}}),e,null,[[16,52],[55,62,65,69]])})));return function(t){return e.apply(this,arguments)}}(),[O,se,Mt,Ot,ot,null===ue||void 0===ue?void 0:ue.value,ae,we.broadcastMode,we.isRequestingMaxFee,we.userMaxFeeInSOL,we.userMaxFeeInLamports,we.priorityLevel,D,$e,et,re,lt,A,Zt.jup.h,Zt.jup.m,Zt.jup.vh,Zt.swapFee,G,K,at,q,be,ut,Q,fe,Lt,E,M,s,st]),Bt=(0,T.V)();(0,y.Z)((function(){Bt[0]&&Bt[1]&&(ke&&ke.address!==Bt[0].address&&Q("fromTokenAddress",Bt[0].address),Re&&Re.address!==Bt[1].address&&Q("toTokenAddress",Bt[1].address))}),Bt);var Dt=(0,k.Z)();j.useEffect((function(){Dt&&Q("fromValue",{formattedValue:Dt,value:Dt,floatValue:Number(Dt)})}),[Q,Dt]);var Ft=j.useRef("");j.useEffect((function(){((!1===Ve.current?ee.fromValue:ee.toValue)||ee.toTokenAddress||ee.fromTokenAddress)&&(Ft.current="")}),[ee.fromValue,ee.toTokenAddress,ee.fromTokenAddress,ee.toValue]);var qt=j.useCallback((function(){if(!rt&&Re&&ke){var e=ne(),t=e.fromTokenAddress,n=e.toTokenAddress,r=e.fromValue,i=e.toValue,a=Ft.current;!Ft.current&&Number((null===r||void 0===r?void 0:r.floatValue)||0)>0&&null!==nt&&void 0!==nt&&nt.quoteResponse&&(a=!1===Ve.current?new v.Z(nt.quoteResponse.outAmount.toString()).div(Math.pow(10,Re.decimals)).toString():new v.Z(nt.quoteResponse.inAmount.toString()).div(Math.pow(10,ke.decimals)).toString()),Y(gt({fromTokenAddress:t,toTokenAddress:n},!1===Ve.current?{fromValue:{value:a,floatValue:Number(a),formattedValue:a}}:{toValue:{value:a,floatValue:Number(a),formattedValue:a}})),setTimeout((function(){Ft.current=!1===Ve.current?(null===r||void 0===r?void 0:r.value)||"":(null===i||void 0===i?void 0:i.value)||""}),0),U(Re,ke)}}),[rt,Re,ke,null===nt||void 0===nt?void 0:nt.quoteResponse,U,ne,Y]),Kt=(0,p.FB)(ce,void 0,M).balance,Ut=j.useCallback((function(){var e=new v.Z(Kt);ce===N.W4.toBase58()&&(e=e.minus(Oe.WO)),Q("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[Kt,ce,Q]),Gt=(0,Ie.KO)(L.dS),zt=(0,a.Z)(Gt,1)[0].TARGET_MINT,Ht=(0,b.qo)({control:J,name:"selectedRoute"}),Wt=(0,qe.QX)({disabled:!D}).claimTimes,Qt=j.useMemo((function(){var e=null===Ht||void 0===Ht?void 0:Ht.quoteResponse.contextSlot;return!(e||!oe.has(ce)&&!oe.has(me))||(me===zt&&e&&Wt?e<(null===Wt||void 0===Wt?void 0:Wt.enableSlot):void 0)}),[zt,null===Ht||void 0===Ht?void 0:Ht.quoteResponse.contextSlot,me,Wt,ce,oe]),Yt=j.useRef(null),Jt=(0,ze.Q)({fromTokenInfo:ke,toTokenInfo:Re,quoteResponse:null===Ht||void 0===Ht?void 0:Ht.quoteResponse,isLaunchPage:D});j.useEffect((function(){D||"minimum-output"===fe.mode&&ve(p.NH)}),[D,ve,fe.mode]);var Xt=(0,Ie.KO)(_e.j.excludedAmms),$t=(0,a.Z)(Xt,2),en=($t[0],$t[1]),tn=j.useCallback((function(e){e.stopPropagation(),en([]),at()}),[at,en]);return j.useMemo((function(){var e;return D?(0,I.jsx)(dt,{onSubmit:function(e){return W((function(t){return _t(gt(gt({},t),e))}))()},refresh:at,loading:rt,onClickMax:Ut,control:J,setValue:Q,type:o,getValues:ne,fromTokenInfo:ke,toTokenInfo:Re,isSubmitting:$,notTradableYet:Qt,error:mt,simulationButtonText:Vt}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"mb-2 flex justify-end",children:(0,I.jsx)(wt,{refresh:at,loading:rt})}),(0,I.jsx)(jt,{}),(0,I.jsx)("div",{children:(0,I.jsxs)("form",{onSubmit:W(_t),children:[(0,I.jsxs)("div",{className:"relative flex-col",children:[(0,I.jsxs)("div",{className:(0,C.cn)("relative flex min-h-[124px] flex-col space-y-3 rounded-xl border border-transparent p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark",!1===Ve.current?"bg-uiv2":"bg-uiv2-background"),children:[(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,I.jsx)(c.cC,{id:"HVPy4o"})}),(0,I.jsxs)("div",{className:"flex space-x-2",children:[(0,I.jsx)(Te,{control:J,name:"fromTokenAddress",useWSol:M}),(0,I.jsx)(Me.oi,{mint:ce,onBalanceChange:function(e){Ve.current=!1,Q("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}})]})]}),(0,I.jsxs)("div",{ref:Yt,className:"flex flex-1 items-center space-x-2",children:[(0,I.jsx)(F,{getValues:ne,control:J,modalId:yt,name:"fromTokenAddress"}),(0,I.jsx)("span",{className:"flex-1 text-right",children:(0,I.jsx)(R,{control:J,name:"fromValue",loading:!!Ve.current&&rt,onKeyDown:function(){Ve.current=!1},placeholder:te?Je===Pe.jr.ExactIn?"0.00":"":"0.00",tokenAmountClassname:"font-semibold text-v2-lily",usdValueClassname:"!text-xs font-normal text-v2-lily/50"})})]})]}),ke&&(0,I.jsx)(bt,{tokenInfo:ke}),(0,I.jsxs)("div",{className:"relative my-1 flex justify-center",children:[(0,I.jsx)("hr",{className:"absolute top-[calc(50%-1px)] -z-0 w-full border-uiv2/50"}),(0,I.jsx)("div",{className:"z-10 inline-block",children:(0,I.jsx)("button",{type:"button",className:(0,C.cn)("group/flip flex h-8 w-8 cursor-pointer flex-col justify-center rounded-full border-[3px] border-uiv2 bg-v2-background-page text-v2-lily/50","hover:border-v2-primary hover:shadow-swap-input-dark"),onClick:qt,children:(0,I.jsx)("span",{className:"flex w-full justify-center fill-current text-v2-lily/50 transition-none group-hover/flip:text-v2-primary",children:(0,I.jsx)(Ce.Z,{})})})})]}),(0,I.jsxs)("div",{className:(0,C.cn)("relative min-h-[124px]","group flex flex-col space-y-3 rounded-xl border border-transparent p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark","hover:bg-v2-background-dark",!0===Ve.current?"bg-uiv2":"bg-uiv2-background"),children:[(0,I.jsxs)("div",{className:"flex items-center justify-between",children:[(0,I.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,I.jsx)(c.cC,{id:"f6aTaB"})}),(0,I.jsx)(Te,{control:J,name:"toTokenAddress",useWSol:M})]}),(0,I.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,I.jsx)(F,{getValues:ne,control:J,modalId:yt,name:"toTokenAddress"}),(0,I.jsx)("span",{className:"flex-1 text-right",children:(0,I.jsx)(R,{control:J,name:"toValue",loading:!Ve.current&&rt,onKeyDown:function(e){e.metaKey||e.ctrlKey||"Meta"===e.key||"Control"===e.key||"Alt"===e.key||"Shift"===e.key||(Ve.current=!0)},onPaste:function(){Ve.current=!0},placeholder:te?Je===Pe.jr.ExactOut?"0.00":"":"0.00",tokenAmountClassname:"font-semibold text-v2-lily",usdValueClassname:"!text-xs font-normal text-v2-lily/25"})})]})]}),Re&&(0,I.jsx)(bt,{tokenInfo:Re})]}),(0,I.jsx)("div",{className:"mt-2 flex gap-x-1",children:(0,I.jsx)(Ne.ZP,{loading:rt,control:J})}),Ve.current&&(0,I.jsx)(Ye,{}),(0,I.jsx)(Ge.Z,{loading:rt,listOfSuggestions:Jt}),(0,I.jsx)(it,{simulationButtonText:Vt,loading:rt,control:J,error:mt,moreErrors:{notTradableYet:Qt}}),ct.size>0&&(0,I.jsxs)("div",{className:(0,C.cn)("flex gap-x-1 text-xs text-v2-lily/50",!$e.onlyDirectRoutes&&"mt-2"),children:[(0,I.jsx)("div",{children:u.ag._({id:"880KXG",values:{0:Mt.length}})}),(0,I.jsx)("button",{type:"button",className:"underline",onClick:tn,children:"Clear all"})]})]})}),(0,I.jsx)(ye,{loading:rt,control:J,intervalRefresher:(0,I.jsx)(V.Z,{value:null===(e=ne().fromValue)||void 0===e?void 0:e.floatValue,isSubmitting:$,lastRefreshTimestamp:st,refresh:at})})]})}),[J,mt,Mt.length,ce,ke,ne,W,te,D,$,st,Jt,rt,Qt,Ut,qt,_t,ct.size,at,tn,Q,Vt,Je,Re,o,M,$e])}},96065:function(e,t,n){n(93981);var r=n(29541);t.Z=function(e){var t=e.className;return(0,r.jsx)("svg",{className:t,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M4.10201 1.28172L8.80544 5.75191C8.94178 5.88275 8.94178 6.1008 8.80544 6.23164L4.10201 10.7018C3.96568 10.8327 3.73846 10.8327 3.60213 10.7018L3.10225 10.2221C2.96592 10.0913 2.96592 9.87321 3.10225 9.74237L6.80592 6.23164C6.94225 6.1008 6.94225 5.88275 6.80592 5.75191L3.12497 2.24118C2.98864 2.11034 2.98864 1.89229 3.12497 1.76145L3.62485 1.28172C3.76118 1.17269 3.96568 1.17269 4.10201 1.28172Z",fill:"currentColor"})})}},70602:function(e,t,n){n(93981);var r=n(29541);t.Z=function(e){var t=e.className;return(0,r.jsx)("svg",{className:t,width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M4.11894 6.99859H6.79173C7.96242 6.99859 8.92699 6.04958 8.94255 4.89521C8.94255 3.72452 7.97798 2.79183 6.79173 2.79183L4.75212 2.79109C4.54675 2.33215 4.08781 2 3.5503 2C2.82298 2 2.23725 2.60129 2.23725 3.31305C2.23725 4.0248 2.83854 4.62609 3.5503 4.62609C4.10414 4.62609 4.56232 4.29394 4.75212 3.835H6.79248C7.40934 3.835 7.91573 4.34139 7.91573 4.91079C7.91573 5.4802 7.40934 5.98659 6.79248 5.98659H4.15083C2.98013 5.98659 2.01556 6.93559 2 8.08997C2 9.27622 2.96457 10.1933 4.15083 10.1933H6.34911C6.55447 10.6523 7.01341 11 7.55093 11C8.27825 11 8.86398 10.3987 8.86398 9.68695C8.86398 8.95964 8.26269 8.37391 7.55093 8.37391C6.99709 8.37391 6.53891 8.70606 6.34911 9.165L4.13527 9.16574C3.51841 9.16574 3.01202 8.65935 3.01202 8.08995C3.01202 7.50498 3.50209 7.01415 4.11894 6.99859Z",fill:"currentColor"})})}},16941:function(e,t,n){var r=n(93981),i=n(24201),a=n(29541);t.Z=function(e){var t=e.idx,n=e.itemsCount,o=e.className,s=void 0===o?"":o,l=e.onClick,c=e.highlighted,u=e.roundBorder,d=e.children,m="left"===u?"rounded-l-xl":"right"===u?"rounded-r-xl":void 0,p=(0,r.useMemo)((function(){if(t>0&&t<n)return"border-l border-white/5"}),[t,n]);return(0,a.jsx)("button",{type:"button",className:(0,i.cn)("".concat("relative flex-1 py-4 px-1 text-white-50 bg-[#1B1B1E]"," ").concat(s," ").concat(p," relative"),c&&"border !border-v2-primary ".concat(m," bg-v2-primary/10 text-white")),onClick:l,children:(0,a.jsx)("div",{className:"flex h-full w-full items-center justify-center leading-none ".concat(c&&"text-v2-primary"),children:d})})}},35186:function(e,t,n){n.d(t,{yi:function(){return Z},x9:function(){return A},ZP:function(){return L},zY:function(){return E}});var r=n(27195),i=n(63956),a=n(8857),o=n.n(a),s=n(8473),l=n(4707),c=n(93981),u=n(13215),d=n(87821),m=n(24201),p=n(72215),x=n(27177),f=n(11823),v=n(25224),h=n(64508),g=n.n(h),j=n(12866),b=n(24628),w=n(25546),y=n(70006),N=n(71130),S=n(99438),k=n(11003),T=n(16941),C=n(29541),P=function(e){var t=e.newSlippage,n=e.onClickAccept,r=e.onClickReject;return(0,C.jsx)("div",{className:"max-w-[480px]",children:(0,C.jsxs)("div",{className:"bg-jupiter-red p-6 pb-5",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between",children:[(0,C.jsx)("h2",{className:"text-lg font-bold text-white",children:(0,C.jsx)(s.cC,{id:"4ejNuj"})}),(0,C.jsx)("button",{className:"text-white/50",onClick:r,children:(0,C.jsx)(j.Z,{width:12,height:12})})]}),(0,C.jsxs)("div",{className:"mt-4 space-x-1 text-sm text-white/75",children:[(0,C.jsx)("span",{children:(0,C.jsx)(s.cC,{id:"e6Axad"})}),(0,C.jsx)("span",{children:(0,C.jsx)(s.cC,{id:"ZkOlth",values:{MINIMUM_SUGGESTED_SLIPPAGE:A,MAXIMUM_SUGGESTED_SLIPPAGE:Z}})})]}),(0,C.jsx)("p",{className:"mt-6 text-sm text-white/75",children:(0,C.jsx)(s.cC,{id:"CLKSfk",values:{newSlippage:t}})}),(0,C.jsx)("button",{type:"button",className:"mt-6 flex w-full items-center justify-center rounded-lg border border-white/50 bg-transparent p-4 text-base font-semibold hover:bg-black/40",onClick:n,children:(0,C.jsx)(s.cC,{id:"bs7l+X"})}),(0,C.jsx)("button",{type:"button",className:"mt-3 flex w-full items-center justify-center rounded-lg bg-black/80 p-4 text-base font-semibold text-white hover:bg-black",onClick:r,children:(0,C.jsx)(s.cC,{id:"dEgA5A"})})]})})};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=.5,Z=5,I=function(){return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"mt-4 flex flex-col gap-y-2 self-start text-xs font-normal text-v2-lily/50",children:[(0,C.jsx)("p",{children:l.ag._({id:"VKSpOv"})}),(0,C.jsx)("p",{children:l.ag._({id:"H0DkEb"})})]})})},R=function(e){var t=e.control,n=e.inputAutoSlippageRef;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,C.jsx)("div",{children:"Max Slippage:"}),(0,C.jsx)("div",{className:"flex items-center rounded-lg bg-[#1B1B1E] p-1",children:(0,C.jsx)("div",{onClick:function(){var e;null===(e=n.current)||void 0===e||e.focus()},className:(0,m.cn)("relative flex h-9 w-[120px] cursor-text items-center justify-between gap-2 px-2 text-white-50","rounded-lg border !border-v2-primary bg-v2-primary/10"),children:(0,C.jsx)(u.Qr,{control:t,name:"maxCapSlippage",render:function(e){var t=e.field,r=t.onChange,i=t.value;return(0,C.jsx)(d.Z,{inputMode:"decimal",value:"undefined"===typeof i?"":i,decimalScale:2,isAllowed:function(e){return(e.floatValue||0)<=100&&(e.floatValue||0)>=0},allowedDecimalSeparators:[".",","],getInputRef:function(e){return n.current=e},allowNegative:!1,onValueChange:function(e){var t=e.value;r(t)},allowLeadingZeros:!1,isNumericString:!0,suffix:"%",className:"pointer-events-all h-full w-full rounded-xl bg-transparent text-right !text-xs text-v2-primary outline-none placeholder:text-white/25 md:!text-sm",decimalSeparator:w.A5,placeholder:","===w.A5?"0,0%":"0.0%"})}})})})]}),(0,C.jsx)("div",{className:"mt-2 h-8 self-start text-xs font-normal text-v2-lily/50",children:(0,C.jsx)("p",{children:l.ag._({id:"3S//+x"})})})]})},V=function(e){var t=e.control,n=e.SLIPPAGE_PRESET,r=e.setInputCustomFocused,i=e.setValue,a=e.inputCustomFocused,o=e.inputFixedSlippageRef,l=e.slippageInput;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"mb-2 text-xs font-semibold",children:"Slippage:"}),(0,C.jsxs)("div",{className:"flex h-10 items-center overflow-hidden rounded-xl text-sm ring-1 ring-white/5",children:[(0,C.jsx)(u.Qr,{name:"slippagePreset",control:t,render:function(e){var t=e.field,o=t.onChange,s=t.value;return(0,C.jsx)(C.Fragment,{children:n.map((function(e,t){var l=function(){var t=Number(e);return Number.isNaN(t)?e:v.uf.format(Number(e))+"%"}();return(0,C.jsx)(T.Z,{idx:t,itemsCount:n.length,className:"h-full",roundBorder:0===t?"left":void 0,highlighted:!a&&s===e,onClick:function(){r(!1),i("slippageInput",void 0),setTimeout((function(){o(e)}),0)},children:l},t)}))})}}),(0,C.jsxs)("div",{onClick:function(){var e;null===(e=o.current)||void 0===e||e.focus(),r(!0)},className:"relative flex h-full w-[130px] cursor-text items-center justify-between border-l border-white/5 bg-[#1B1B1E] px-2 text-sm text-white-50 ".concat(a||l?"rounded-xl border !border-v2-primary bg-v2-primary/10":""),children:[(0,C.jsx)("span",{className:"text-xs ".concat((a||l)&&"text-v2-primary/70"),children:(0,C.jsx)(s.cC,{id:"8Tg/JR"})}),(0,C.jsx)(u.Qr,{name:"slippageInput",control:t,render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,C.jsx)(d.Z,{inputMode:"decimal",value:"undefined"===typeof r?"":r,decimalScale:2,isAllowed:function(e){return(e.floatValue||0)<=100&&(e.floatValue||0)>=0},allowedDecimalSeparators:[".",","],getInputRef:function(e){return o.current=e},allowNegative:!1,onValueChange:function(e){var t=e.value;n(t),"undefined"!==typeof t&&i("slippagePreset",void 0)},allowLeadingZeros:!1,isNumericString:!0,suffix:"%",className:"pointer-events-all h-full w-full rounded-lg bg-transparent px-2 py-4 text-right text-sm text-v2-primary outline-none placeholder:text-white/25",decimalSeparator:w.A5,placeholder:","===w.A5?"0,00%":"0.00%"})}})]})]}),(0,C.jsx)("div",{className:"mt-2 flex flex-col gap-y-2 text-xs text-v2-lily/50",children:(0,C.jsx)("p",{children:(0,C.jsx)(s.cC,{id:"sYCXY+"})})})]})},E=function(e){var t=e.mode,n=e.slippageInput,r=e.maxCapSlippage,i=(0,c.useMemo)((function(){var e={isTooLow:!1,isTooHigh:!1,slippageSuggestionText:null,disabledByWarning:!1};switch(t){case"dynamic":var i=Number(r)<.1||"undefined"===typeof r||""===r,a=Number(r)>10;return i?{isTooLow:!0,isTooHigh:!1,slippageSuggestionText:l.ag._({id:"96/ELK",values:{MINIMUM_REQUIRED_DYNAMIC_SLIPPAGE:.1}}),disabledByWarning:!0}:a?{isTooLow:!1,isTooHigh:!0,slippageSuggestionText:(0,C.jsx)(s.cC,{id:"e6Axad"}),disabledByWarning:!1}:e;case"fixed":return Number(n)>50?{isTooLow:!1,isTooHigh:!0,slippageSuggestionText:(0,C.jsx)(s.cC,{id:"e6Axad"}),disabledByWarning:!1}:e;default:return e}}),[r,t,n]);return{isTooLow:i.isTooLow,isTooHigh:i.isTooHigh,slippageSuggestionText:i.slippageSuggestionText,disabledByWarning:i.disabledByWarning}},L=function e(t){var n=t.isLaunchPage,i=(0,p.MG)().constants.DEFAULT_SLIPPAGE,a=(0,y.JT)(),d=a.openModal,v=a.closeModal,h=(0,p.mQ)(),w=h.slippage,T=h.setSlippage,M=h.slippageSettings,A=h.setSlippageSettings,Z=(0,c.useMemo)((function(){return["0.3",String(i),"1"]}),[i]),L=(0,c.useMemo)((function(){return Z.find((function(e){return e===String(w)}))}),[Z,w]),_=(0,u.cI)({defaultValues:O({},"undefined"!==typeof w?{slippageMode:M.mode,slippagePreset:L?String(L):void 0,slippageInput:L?void 0:String(w),maxCapSlippage:function(){if("dynamic"===M.mode)return M.maxDynamicSlippagePct?String(M.maxDynamicSlippagePct):void 0}()}:{})}),B=_.setValue,D=_.watch,F=_.control,q=_.handleSubmit,K=(0,x.lm)().toast,U=(0,c.useState)(!L),G=U[0],z=U[1],H=D("slippageMode"),W=D("slippageInput"),Q=D("slippagePreset"),Y=D("maxCapSlippage"),J=E({mode:H,slippageInput:W||Q,maxCapSlippage:Y}),X=J.slippageSuggestionText,$=J.disabledByWarning,ee=(0,c.useRef)(),te=(0,c.useRef)(),ne=(0,c.useMemo)((function(){return!("fixed"!==H||!G||W)||$}),[$,G,W,H]),re=(0,c.useCallback)(function(){var t=(0,r.Z)(o().mark((function t(r){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ne){t.next=2;break}return t.abrupt("return");case 2:if(i=Number(W||Q),"minimum-output"!==r.slippageMode){t.next=9;break}return A({mode:"minimum-output"}),v(),t.abrupt("return");case 9:if("dynamic"!==r.slippageMode){t.next=15;break}return A({mode:"dynamic",maxDynamicSlippagePct:Number(r.maxCapSlippage)}),v(),t.abrupt("return");case 15:"fixed"===r.slippageMode&&A({mode:"fixed",value:i});case 16:if(!X){t.next=24;break}return t.next=19,new Promise((function(t){setTimeout((function(){d((0,C.jsx)(P,{newSlippage:i,onClickAccept:function(){T(i),v(),t(!0)},onClickReject:function(){setTimeout((function(){d((0,C.jsx)(e,{isLaunchPage:n}))}),0),t(!1)}}),{canDismiss:!1,containerStyle:{background:"none"}})}),0)}));case 19:if(t.sent){t.next=22;break}return t.abrupt("return");case 22:t.next=25;break;case 24:T(i);case 25:K({render:function(e){return(0,C.jsx)(k.ZJ,O(O({},e),{},{variant:k.Lb.SUCCESS,title:l.ag._({id:"iMxx2A"}),description:l.ag._({id:"XOl9gR"})}))}}),v();case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[ne,W,Q,X,K,v,A,d,T,n]);return(0,C.jsx)("div",{className:(0,m.cn)("w-screen max-w-md bg-v2-perps-modal text-white"),children:(0,C.jsxs)("form",{onSubmit:q(re),className:"w-full",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between px-5 pt-7",children:[(0,C.jsxs)("div",{className:"flex items-center gap-x-3 text-2xl font-semibold",children:[(0,C.jsx)(s.cC,{id:"703xFF"}),(0,C.jsx)(g(),{href:"https://station.jup.ag/guides/jupiter-swap/how-swap-works/how-swap-works#slippage",target:"_blank",className:"text-v2-lily/50 hover:text-v2-primary",children:(0,C.jsx)(b.Z,{width:16,height:16})})]}),(0,C.jsx)("div",{className:"cursor-pointer fill-current text-white",onClick:function(){return v()},children:(0,C.jsx)(j.Z,{width:16,height:16})})]}),(0,C.jsx)("div",{className:"mt-2 flex flex-col gap-y-2 px-5 pb-2 text-xs text-v2-lily/50",children:"dynamic"===H?(0,C.jsx)("p",{children:(0,C.jsx)(s.cC,{id:"0iEVNn"})}):(0,C.jsx)("p",{children:"Fixed Slippage may help with transaction success rate, but exposes you to front-running. Try using Fixed mode with MEV Protect turned on."})}),(0,C.jsx)("div",{className:(0,m.cn)("flex flex-col justify-between transition-all","h-[190px] max-h-[70vh]","hideScrollbar overflow-y-auto"),children:(0,C.jsxs)("div",{className:"mt-4 flex flex-col gap-y-4 px-5",children:[(0,C.jsxs)("div",{className:"flex flex-col",children:[(0,C.jsx)("div",{className:"text-xs font-semibold",children:"Mode"}),(0,C.jsx)(u.Qr,{control:F,name:"slippageMode",render:function(e){var t=e.field,r=t.onChange,i=t.value;return(0,C.jsxs)("div",{className:"mt-1 flex h-10 items-center justify-between gap-x-2 rounded-lg bg-[#1B1B1E] p-1",children:[n&&(0,C.jsx)(f.yw,{buttonActiveClassName:"!border-v2-primary !bg-v2-primary/10",labelActiveClassName:"text-v2-primary",onClick:function(){r("minimum-output"),G&&z(!1)},isActive:"minimum-output"===i,label:l.ag._({id:"1Apb8s"})}),(0,C.jsx)(f.yw,{buttonActiveClassName:"!border-v2-primary !bg-v2-primary/10",labelActiveClassName:"text-v2-primary",onClick:function(){r("dynamic"),G&&z(!1)},isActive:"dynamic"===i,label:l.ag._({id:"cOvZFM"})}),(0,C.jsx)(f.yw,{buttonActiveClassName:"!border-v2-primary !bg-v2-primary/10",labelActiveClassName:"text-v2-primary",onClick:function(){r("fixed"),G&&z(!1)},isActive:"fixed"===i,label:l.ag._({id:"TpqW74"})})]})}})]}),(0,C.jsxs)("div",{className:"my-2 text-sm",children:["minimum-output"===H&&(0,C.jsx)(I,{}),"dynamic"===H&&(0,C.jsx)(R,{control:F,inputAutoSlippageRef:ee}),"fixed"===H&&(0,C.jsx)(V,{control:F,SLIPPAGE_PRESET:Z,setInputCustomFocused:z,setValue:B,inputCustomFocused:G,inputFixedSlippageRef:te,slippageInput:W}),(0,C.jsx)("div",{className:(0,m.cn)("fixed"===H?"block":"hidden")})]})]})}),(0,C.jsx)("div",{className:"px-4",children:X&&(0,C.jsx)(N.Z,{iconSize:14,className:"!mt-2 !px-0 !text-jupiter-primary",message:X})}),(0,C.jsx)("div",{className:"mt-4 px-5 pb-5",children:(0,C.jsx)(S.Z,{type:"submit",className:"w-full border border-[#C7F284]/20",disabled:ne,size:"md",children:(0,C.jsx)(s.cC,{id:"UGT5vp"})})})]})})}},42916:function(e,t,n){var r=n(63956),i=n(72215),a=n(45009),o=n(41144);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=(0,i.Os)().publicKey;return(0,a.a)(["transactions-".concat(null===e||void 0===e?void 0:e.toBase58())],(function(){return e?o.ZP.get("https://worker.jup.ag/swap-transactions/".concat(e.toBase58()),{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}}).json().then((function(e){return e.swaps.map((function(e){return l(l({},e),{},{inputAmount:e.inputAmount.toString(),outputAmount:e.outputAmount.toString()})}))})):[]}),{enabled:!!e,refetchOnMount:!1,keepPreviousData:!0})}},81098:function(e,t,n){n.d(t,{j:function(){return i}});var r=n(9364),i={amms:(0,r.cn)([]),excludedAmms:(0,r.cn)([])}}}]);
//# sourceMappingURL=94561-a9a8a1b84aa69c80.js.map